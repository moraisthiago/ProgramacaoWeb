<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Pense em Python - Cap.2</title>
</head>
<body>

    <h1>Capítulo 2: Variáveis, expressões e instruções</h1>

    <p>
    Um dos recursos mais eficientes de uma linguagem de programação é a capacidade de manipular variáveis. Uma variável é um nome que se refere a um valor.
    </p>

    <h2>2.1 - Instruções de atribuição</h2>

    <p>
    Uma instrução de atribuição cria uma nova variável e dá um valor a ela:
    </p>

    <code>

    <ul>
    <p><b>>>></b> <font color = "gray"> message </font><b> = </b> <font color = "red">'And now for something completely different'</font></p>
    <p><b>>>></b><font color = "gray"> n </font> <b> = </b> <font color = "violet"> 17 </font></p>
    <p><b>>>></b><font color = "gray"> pi </font> <b> = </b> <font color = "violet">3.141592653589793</font></p>
    </ul>

    </code>

    <p>
    Esse exemplo faz três atribuições. A primeira atribui uma string a uma nova variável chamada message; a segunda dá o número inteiro 17 a n; a terceira atribui o valor (aproximado) de π a pi.
    </p>

    <p>
    Uma forma comum de representar variáveis por escrito é colocar o nome com uma flecha apontando para o seu valor. Este tipo de número é chamado de diagrama de estado porque mostra o estado no qual cada uma das variáveis está (pense nele como o estado de espírito da variável). A Figura 2.1 mostra o resultado do exemplo anterior.
    </p>

    <img src="https://raw.githubusercontent.com/PenseAllen/PensePython2e/master/fig/tnkp_0201.png"></img>

    <p>
    <i>Figura 2.1 – Diagrama de estado.</i>
    </p>

    <h2>2.2 - Nomes de variáveis</h2>

    <p>
    Os programadores geralmente escolhem nomes significativos para as suas variáveis – eles documentam o uso da variável.
    </p>

    <p>
    Nomes de variáveis podem ser tão longos quanto você queira. Podem conter tanto letras como números, mas não podem começar com um número. É legal usar letras maiúsculas, mas a convenção é usar apenas letras minúsculas para nomes de variáveis.
    </p>

    <p>
    O caractere de sublinhar (_) pode aparecer em um nome. Muitas vezes é usado em nomes com várias palavras, como your_name ou airspeed_of_unladen_swallow
    </p>

    <p>
    Se você der um nome ilegal a uma variável, recebe um erro de sintaxe:
    </p>

    <code>

    <ul>
    <p><b>>>> </b><font color = "violet">76</font><font color = "gray">trombones</font><b> = </b><font color = "red"> 'big parade'</font></p>
    <p><font color = "violet">SyntaxError</font><font color = "gray">: invalid syntax</font></p>
    <p><b>>>> </b><font color = "gray">more</font><font color = "red">@</font><b> = </b><font color = "violet">1000000</font></p>
    <p><font color = "violet">SyntaxError</font><font color = "gray">: invalid syntax</font></p>
    <p><b>>>> class </b><font color = "red"> = '</font><font color = "purple">Advanced </font><font color = "gray">Theoretical Zymurgy</font><font color = "red">'</font></p>
    <p><font color = "red">SyntaxError: invalid syntax</font></p>
    </ul>

    </code>

    <p>
    <font color = "gray">76trombones</font> é ilegal porque começa com um número. <font color = "gray">more@</font>  é ilegal porque contém um caractere ilegal, o <font color = "gray">@</font>. Mas o que há de errado com <font color="gray">class</font>?
    </p>

    <p>
    A questão é que class é uma das palavras-chave do Python. O interpretador usa palavras-chave para reconhecer a estrutura do programa e elas não podem ser usadas como nomes de variável.
    </p>

    <p>
    O Python 3 tem estas palavras-chave:
    </p>

    <table border="2">

    <tr>
    <td>end</td>
    <td>del</td>
    <td>from</td>
    <td>None</td>
    <td>True</td>
    </tr>

    <tr>
    <td>as</td>
    <td>elif</td>
    <td>global</td>
    <td>nonlocal</td>
    <td>try</td>
    </tr>

    <tr>
    <td>assert</td>
    <td>else</td>
    <td>if</td>
    <td>not</td>
    <td>while</td>
    </tr>

    <tr>
    <td>break</td>
    <td>except</td>
    <td>import</td>
    <td>or</td>
    <td>with</td>
    </tr>

    <tr>
    <td>class</td>
    <td>False</td>
    <td>in</td>
    <td>pass</td>
    <td>yield</td>
    </tr>

    <tr>
    <td>continue</td>
    <td>finally</td>
    <td>is</td>
    <td>raise</td>
    </tr>

    <tr>
    <td>def</td>
    <td>for</td>
    <td>lambda</td>
    <td>return</td>
    </tr>

    </table>

    <p>
    Você não precisa memorizar essa tabela. Na maior parte dos ambientes de desenvolvimento, 
as palavras-chave são exibidas em uma cor diferente; se você tentar usar uma como nome 
de variável, vai perceber.
    </p>

    <h2>2.3 - Expressões e instruções</h2>

    <p>
    Uma expressão é uma combinação de valores, variáveis e operadores. Um valor por si 
mesmo é considerado uma expressão, assim como uma variável, portanto as expressões 
seguintes são todas legais:
    </p>

    <code>

    <ul>
    <p><b>>>></b><font color="violet"> 42 </font></p>
    <p><font color="violet"> 42 </font></p>
    <p><b>>>></b><font color="gray"> n </font></p>
    <p><font color="violet"> 17 </font></p>
    <p><b>>>></b><font color="gray"> n </font><b> + </b><font color="violet"> 25 </font></p>
    <p><font color="violet"> 42 </font></p>
    </ul>

    </code>

    <p>
    Quando você digita uma expressão no prompt, o interpretador a avalia, ou seja, ele encontra o valor da expressão. Neste exemplo, o n tem o valor 17 e n + 25 tem o valor 42.
    </p>

    <p>
    Uma instrução é uma unidade de código que tem um efeito, como criar uma variável ou exibir um valor.
    </p>

    <code>

    <ul>
    <p><b>>>></b><font color="gray"> n </font><b> = </b><font color="violet"> 17 </font></p>
    <p><b>>>> print</b><font color="gray">(n)</font></p>
    </ul>

    </code>

    <p>
    A primeira linha é uma instrução de atribuição que dá um valor a n. A segunda linha é uma instrução de exibição que exibe o valor de n.
    </p>

    <p>
    Quando você digita uma instrução, o interpretador a executa, o que significa que ele faz o que a instrução diz. Em geral, instruções não têm valores.
    </p>

    <h2>2.4 - Modo script</h2>

    <p>
    Até agora executamos o Python no modo interativo, no qual você interage diretamente com o interpretador. O modo interativo é uma boa forma de começar, mas se estiver trabalhando com mais do que algumas linhas do código, o processo pode ficar desorganizado.
    </p>

    <p>
    A alternativa é salvar o código em um arquivo chamado script e então executar o interpretador no modo script para executá-lo. Por convenção, os scripts no Python têm nomes que terminam com .py.
    </p>

    <p>
    Se souber como criar e executar um script no seu computador, você está pronto. Senão, recomendo usar o PythonAnywhere novamente. Inseri instruções sobre como executar programas no modo script em http://tinyurl.com/thinkpython2e.
    </p>

    <p>
    Como o Python oferece os dois modos, você pode testar pedaços do código no modo interativo antes de colocá-los em um script. Mas há diferenças entre o modo interativo e o modo script que podem confundir as pessoas.
    </p>

    <p>
    Por exemplo, se estiver usando o Python como uma calculadora, você poderia digitar:
    </p>

    <code>

    <ul>
    <p><b>>>></b><font color="gray"> miles </font><b> = </b><font color="violet"> 26.2 </font></p>
    <p><b>>>></b><font color="gray"> miles </font><b> * </b><font color="violet"> 1.61 </font></p>
    <p><font color="violet"> 42.182 </font></p>
    </ul>

    </code>

    <p>
    A primeira linha atribui um valor a miles, mas não tem efeito visível. A segunda linha é uma expressão, então o interpretador a avalia e exibe o resultado. No fim, chega-se ao resultado de que uma maratona tem aproximadamente 42 quilômetros.
    </p>

    <p>
    Mas se você digitar o mesmo código em um script e executá-lo, não recebe nenhuma saída. Uma expressão, por conta própria, não tem efeito visível no modo script. O Python, na verdade, avalia a expressão, mas não exibe o valor a menos que você especifique:
    </p>

    <code>

    <ul>
    <p><font color="gray"> miles </font><b> = </b><font color="violet"> 26.2 </font></p>
    <p><b>print</b><font color="gray"> (miles</font><b> * </b><font color="violet"> 1.61</font><font color="gray">)</font></p>
    </ul>

    </code>

    <p>
    Este comportamento pode confundir um pouco no início.
    </p>

    <p>
    Um script normalmente contém uma sequência de instruções. Se houver mais de uma instrução, os resultados aparecem um após o outro, conforme as instruções sejam executadas.
    </p>

    <p>
    Por exemplo, o script
    </p>

    <code>

    <ul>
    <p><b>print</b><font color="gray">(</font><font color="violet">1</font><font color="gray">)</font></p>
    <p><font color="gray">x</font><b> = </b><font color="violet"> 2 </font></p>
    <p><b>print</b><font color="gray">(x)</font></p>
    </ul>

    </code>

    <p>
      produz a saída
    </p>

    <code>

      <ul>
      <p><font color="violet">1</font></p>
      <p><font color="violet">2</font></p>
      </ul>

    </code>

    <p>
      A instrução de atribuição não produz nenhuma saída.
    </p>

    <p>
      Para verificar sua compreensão, digite as seguintes instruções no interpretador do Python e veja o que fazem:
    </p>

    <code>

      <ul>
        <p><font color="violet">5</font></p>
        <p><font color="gray">x</font> <b> = </b> <font color="violet">5</font> </p>
        <p><font color="gray">x</font> <b> + </b> <font color="violet">5</font> </p>
      </ul>

    </code>

    <p>
      Agora ponha as mesmas instruções em um script e o execute. Qual é a saída? Altere o script transformando cada expressão em uma instrução de exibição e então o execute novamente.
    </p>

    <h2>2.5 - Ordem das operações</h2>

    <p>
      Quando uma expressão contém mais de um operador, a ordem da avaliação depende da ordem das operações. Para operadores matemáticos, o Python segue a convenção matemática. O acrônimo PEMDAS pode ser útil para lembrar das regras:
    </p>

    <ul>

      <li>
        Os Parênteses têm a precedência mais alta e podem ser usados para forçar a avaliação de uma expressão na ordem que você quiser. Como as expressões em parênteses são avaliadas primeiro, 2 * (3-1) é 4, e (1+1)**(5-2) é 8. Também é possível usar parênteses para facilitar a leitura de uma expressão, como no caso de (minute * 100) / 60, mesmo se o resultado não for alterado.
      </li>

      <li>
        A Exponenciação tem a próxima precedência mais alta, então 1 + 2**3 é 9, não 27, e 2 * 3**2 é 18, não 36.
      </li>

      <li>
        A Multiplicação e a Divisão têm precedência mais alta que a Adição e a Subtração. Assim, 2 * 3 - 1 é 5, não 4, e 6 + 4 / 2 é 8, não 5.
      </li>

      <li>
        Os operadores com a mesma precedência são avaliados da esquerda para a direita (exceto na exponenciação). Assim, na expressão degrees / 2 * pi, a divisão acontece primeiro e o resultado é multiplicado por pi. Para dividir por 2π, você pode usar parênteses ou escrever degrees / 2 / pi.
      </li>

    </ul>

    <p>
      Eu não fico sempre tentando lembrar da precedência de operadores. Se a expressão não estiver clara à primeira vista, uso parênteses para fazer isso.
    </p>

    <h2>2.6 - Operações com strings</h2>

    <p>
      Em geral, não é possível executar operações matemáticas com strings, mesmo se elas parecerem números, então coisas assim são ilegais:
    </p>

    <code>

      <ul>
        <p><font color="gray">'2'-'1'    'eggs'/'easy'    'third'*'a charm'</font></p>
      </ul>

    </code>

    <p>
      Mas há duas exceções, <font color="gray">+</font> e <font color = "gray">*</font>.
    </p>

    <p>
      O operador <font color = "gray">+</font> executa uma concatenação de strings, ou seja, une as strings pelas extremidades. Por exemplo:
    </p>

    <code>

      <ul>
        <p> <b>>>></b> <font color = "gray"> first </font> <b> = </b> <font color = "red"> 'throat' </font> </p>
        <p> <b>>>></b> <font color = "gray"> second </font> <b> = </b> <font color = "red"> 'warbler' </font> </p>
        <p> <b>>>></b> <font color = "gray"> first </font> <b> + </b> <font color = "gray"> second </font> </p>
        <p> <font color = "gray"> throatwarbler </font></p>
      </ul>

    </code>

    <p>
      O operador <font color = "gray">*</font> também funciona em strings; ele executa a repetição. Por exemplo, ‘Spam’<font color = "gray">*</font>3 é ‘SpamSpamSpam’. Se um dos valores for uma string, o outro tem de ser um número inteiro.
    </p>

    <p>
      Este uso de + e <font color = "gray">*</font> faz sentido por analogia com a adição e a multiplicação. Tal como <font = color="gray">4 * 3</font> é equivalente a <font color = "gray">4 + 4 + 4</font>, esperamos que <font color = "gray">'Spam' * 3</font> seja o mesmo que ‘Spam’+’Spam’+’Spam’, e assim é. Por outro lado, há uma diferença significativa entre a concatenação de strings e a repetição em relação à adição e à multiplicação de números inteiros. Você consegue pensar em uma propriedade que a adição tem, mas a concatenação de strings não tem?
    </p>

    <h2>2.7 - Comentários</h2>

    <p>
      Conforme os programas ficam maiores e mais complicados, eles são mais difíceis de ler. As linguagens formais são densas e muitas vezes é difícil ver um pedaço de código e compreender o que ele faz ou por que faz isso.
    </p>

    <p>
      Por essa razão, é uma boa ideia acrescentar notas aos seus programas para explicar em linguagem natural o que o programa está fazendo. Essas notas são chamadas de comentários, e começam com o símbolo <font color = "gray">#</font>:
    </p>

    <code>

      <ul>
        <p><font color = "gray"> <i># computa a percentagem da hora que passou</i> </font></p>
        <p><font color = "purple">porcentagem</font> <b> = </b> <font color = "purpe"> (minute</font> <b> * </b> <font color = "violet"> 100</font><font color = "purple">)</font> <b> / </b> <font color = "violet"> 60 </font> </p>
      </ul>

    </code>

    <p>
      Nesse caso, o comentário aparece sozinho em uma linha. Você também pode pôr comentários no fim das linhas:
    </p>

    <code>

      <ul>
        <p><font color = "purple">porcentagem</font> <b> = </b> <font color = "purple"> (minute</font> <b> * </b> <font color = "violet"> 100</font><font color = "purple">)</font> <b> / </b> <font color = "violet"> 60 </font> <font color = "gray"> <i> # percentagem de uma hora </i> </font> </p>
      </ul>

    </code>

    <p>
      Tudo do <font color "gray">#</font> ao fim da linha é ignorado – não tem efeito na execução do programa.
    </p>

    <p>
      Os comentários tornam-se mais úteis quando documentam algo no código que não está óbvio. Podemos supor que o leitor compreenda o que o código faz; assim, é mais útil explicar porque faz o que faz.
    </p>

    <p>
      Este comentário é redundante em relação ao código, além de inútil:
    </p>

    <code>

      <ul>
        <p><font color = "purple">v</font> <b> = </b> <font color = "violet">5</font><font color = "gray"> <i> # atribui 5 a v </i> </font></p>
      </ul>

    </code>

    <p>
      Este comentário contém informações úteis que não estão no código:
    </p>

    <code>

      <ul>
        <p><font color = "purple">v</font> <b> = </b> <font color = "violet">5</font><font color = "gray"> <i> # velocidade em metros/segundo.
 </i> </font></p>
      </ul>

    </code>

    <p>
      Bons nomes de variáveis podem reduzir a necessidade de comentários, mas nomes longos podem tornar expressões complexas difíceis de ler, então é preciso analisar o que vale mais a pena.
    </p>

    <h2>2.8 - Depuração</h2>

    <p>
      Há três tipos de erros que podem ocorrer em um programa: erros de sintaxe, erros de tempo de execução e erros semânticos. É útil distinguir entre eles para rastreá-los mais rapidamente.
    </p>

    <p> <b>Erro de sintaxe</b> </p>
    <ul>

      <p>
            A “sintaxe” refere-se à estrutura de um programa e suas respectivas regras. Por exemplo, os parênteses devem vir em pares correspondentes, então (1 + 2) é legal, mas 8) é um erro de sintaxe.
      </p>

      <p>
            A “sintaxe” refere-se à estrutura de um programa e suas respectivas regras. Por exemplo, os parênteses devem vir em pares correspondentes, então (1 + 2) é legal, mas 8) é um erro de sintaxe.
      </p>

    </ul>

    <p> <b>Erro de tempo de execução</b> </p>

    <ul>

      <p>
            O segundo tipo de erro é o erro de tempo de execução, assim chamado porque o erro não aparece até que o programa seja executado. Esses erros também se chamam de exceções porque normalmente indicam que algo excepcional (e ruim) aconteceu.
      </p>

      <p>
            Os erros de tempo de execução são raros nos programas simples que veremos nos primeiros capítulos, então pode demorar um pouco até você encontrar algum.
      </p>

    </ul>

    <p> <b>Erro semântico</b> </p>

    <ul>

      <p>
            O terceiro tipo do erro é “semântico”, ou seja, relacionado ao significado. Se houver um erro semântico no seu programa, ele será executado sem gerar mensagens de erro, mas não vai fazer a coisa certa. Vai fazer algo diferente. Especificamente, vai fazer o que você disser para fazer.
      </p>

      <p>
            Identificar erros semânticos pode ser complicado, porque é preciso trabalhar de trás para a frente, vendo a saída do programa e tentando compreender o que ele está fazendo.
      </p>

    </ul>

    <h2>2.9 - Glossário</h2>

    <p>
      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:vari%C3%A1vel">variável</a>
      <ul>
            Um nome que se refere a um valor.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:atribui%C3%A7%C3%A3o">atribuição</a>
      <ul>
            Uma instrução que atribui um valor a uma variável.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:diagrama%20de%20estado">diagrama de estado</a>
      <ul>
            Uma representação gráfica de um grupo de variáveis e os valores a que se referem.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:palavra-chave">palavra chave</a>
      <ul>
            Uma palavra reservada, usada para analisar um programa; não é possível usar palavras-chave como if, def e while como nomes de variáveis.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:operando">operando</a>
      <ul>
            Um dos valores que um operador produz.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:express%C3%A3o">expressão</a>
      <ul>
            Uma combinação de variáveis, operadores e valores que representa um resultado único.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:avaliar">avaliar</a>
      <ul>
            Simplificar uma expressão executando as operações para produzir um valor único.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:instru%C3%A7%C3%A3o">instrução</a>
      <ul>
      Uma seção do código que representa um comando ou ação. Por enquanto, as
instruções que vimos são instruções de atribuições e de exibição.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:executar">executar</a>
      <ul>
      Executar uma instrução para fazer o que ela diz.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:modo%20interativo">modo interativo</a>
      <ul>
      Um modo de usar o interpretador do Python, digitando o código no prompt.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:modo%20script">modo script</a>
      <ul>
      Um modo de usar o interpretador do Python para ler código em um script e executá-lo.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:script">script</a>
      <ul>
      Um programa armazenado em um arquivo.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:ordem%20das%20opera%C3%A7%C3%B5es">ordem das operações</a>
      <ul>
      As regras que governam a ordem na qual as expressões que envolvem vários operadores e operandos são avaliadas.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:concatenar">concatenar</a>
      <ul>
      Juntar dois operandos pelas extremidades.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:coment%C3%A1rios">comentários</a>
      <ul>
      Informações em um programa destinadas a outros programadores (ou qualquer pessoa que leia o texto fonte) que não têm efeito sobre a execução do programa.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:erro%20de%20sintaxe">erro de sintaxe</a>
      <ul>
      Um erro em um programa que torna sua análise impossível (e por isso impossível de interpretar).
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:exce%C3%A7%C3%A3o">exceção</a>
      <ul>
      Um erro que se descobre quando o programa é executado.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:sem%C3%A2ntica">semântica</a>
      <ul>
      O significado de um programa.
      </ul>

      <a href="https://penseallen.github.io/PensePython2e/02-vars-expr-instr.html#termo:erro%20sem%C3%A2ntico">erro semântico</a>
      <ul>
      Um erro que faz com que um programa faça algo diferente do que o programador pretendia.
      </ul>
    </p>

    <h2>2.10 - Exercícios</h2>
    <h3>Exercício 2.1</h3>

    <p>
    Repetindo o meu conselho do capítulo anterior, sempre que você aprender um recurso novo, você deve testá-lo no modo interativo e fazer erros de propósito para ver o que acontece.
    </p>

    <ul>

    <li>Vimos que n = 42 é legal. E 42 = n?</li>

    <li>Ou x = y = 1?</li>

    <li>Em algumas linguagens, cada instrução termina em um ponto e vírgula ;. O que acontece se você puser um ponto e vírgula no fim de uma instrução no Python?</li>

    <li>E se puser um ponto no fim de uma instrução?</li>

    <li>Em notação matemática é possível multiplicar x e y desta forma: xy. O que acontece se você tentar fazer o mesmo no Python?</li>

    </ul>

    <h3>Exercício 2.2</h3>

    <p>
    Pratique o uso do interpretador do Python como uma calculadora:
    </p>

    <ol>

    <li>O volume de uma esfera com raio r é <img src="https://raw.githubusercontent.com/PenseAllen/PensePython2e/master/fig/p19f1.png"></img>. Qual é o volume de uma esfera com raio 5?</li>

    <li>Suponha que o preço de capa de um livro seja R$ 24,95, mas as livrarias recebem um desconto de 40%. O transporte custa R$ 3,00 para o primeiro exemplar e 75 centavos para cada exemplar adicional. Qual é o custo total de atacado para 60 cópias?</li>

    <li>Se eu sair da minha casa às 6:52 e correr 1 quilômetro a um certo passo (8min15s por quilômetro), então 3 quilômetros a um passo mais rápido (7min12s por quilômetro) e 1 quilômetro no mesmo passo usado em primeiro lugar, que horas chego em casa para o café da manhã?</li>

    </ol>

    <p><a href="https://github.com/PenseAllen/PensePython2e">PensePython2e</a><b> is maintained by </b><a href="https://github.com/PenseAllen">PenseAllen</a></p>

    <p>
    This page was generated by <a href="https://pages.github.com/">Git Hub Pages.</a>
    </p>

</body>
</html>
